package package2;

workflow MainWorkflow {
  
  // TASKS
  task Task1 {
    // TASKS
    task Task5 {
      implementation "file://implementation_C.py";
    }
    task Task6 {
      // TASKS
      task Task7 {
        implementation "file://implementation_D.py";
      }
      task Task8 {
        implementation "file://implementation_E.exe";
      }

      // PARAMETERS
      param p = 4;

      // TASK CONNECTIONS
      
      START -> Task7;

      Task7 ?-> END {
        condition "p > 1";
      }

      Task7 ?-> Task8 {
        condition "otherwise";
      }
      
      Task8 -> END;
    }

    // TASK CONNECTIONS
    
    START -> Task5 -> Task6;
    Task6 -> Task5;
  }
  task Task2 {
    implementation "file://implementation_A.py";
    param value = 0.2;
  }
  task Task3 {
    implementation "file://implementation_B.py";
  }
  task Task4 {
    // TASKS
    task Task10 {
      implementation "file://implementation_F.java";
    }
    task Task9 {
      implementation "file://implementation_F.py";
    }
    task Task11 {
      implementation "file://implementation_G.java";
    }

    // TASK CONNECTIONS
    
    START -> Task10 -> Task9 -> Task11 -> END;
  }

  // DATA
  data InputData;

  // TASK CONNECTIONS
  
  START -> Task2 -> PARALLEL_1;
  PARALLEL_1 -> Task1 -> PARALLEL_END_1;
  PARALLEL_1 -> Task3 -> Task4 -> PARALLEL_END_1;
  PARALLEL_END_1 -> END;

  // DATA CONNECTIONS

  InputData --> Task2;
}
